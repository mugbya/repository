{% extends "partial/assets.html" %}


{% block head %}

<link rel="stylesheet" href="//static.segmentfault.com/build/global/css/global.64b34ab2.css"/>
<link rel="stylesheet" href="//static.segmentfault.com/build/login/css/login_all.8a4a8926.css"/>
<link rel="stylesheet" href="//static.segmentfault.com/build/global/css/responsive.61fdda2e.css"/>

{% endblock %}

{% block mainbody %}


<div class="col-md-6 col-md-offset-3 bg-white login-wrap">
    <h1 class="h4 text-center text-muted login-title">完善资料</h1>

    <p class="title-description">
        您正在使用 <span class="icon-sn-github"></span>
        <a href="{{ request.session.link }}" target="_blank">{{ request.session.typename }}账号</a>
    </p>


    <div>
        <ul class="nav nav-tabs" role="tablist">

            <li role="presentation" class="active"><a href="#tab1"
                                                      aria-controls="tab1" role="tab"
                                                      data-toggle="tab">绑定新账号</a></li>
            <li role="presentation"><a href="#tab2"
                                       aria-controls="tab2" role="tab"
                                       data-toggle="tab">绑定已有账号</a></li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="tab1">
               <form action="{% url 'bind_new' %}" method="post">
                    <fieldset>
                        {% csrf_token %}

                        <div class="form-group nameInput">
                            <label for="name" class="required">用户名</label>
                            {% if form.username.errors %}
                            <span class="text-danger pull-right">{{ form.username.errors }}</span>
                            {% endif %}
                            <input type="text" class="form-control" name="username"
                                   value="{{ request.session.username }}" required
                                   placeholder="字母、数字等，用户名唯一">
                        </div>

                        <div class="form-group mt10">
                            <label for="email" class="required">Email</label>
                            {% if form.email.errors %}
                            <span class="text-danger pull-right">{{ form.email.errors }}</span>
                            {% endif %}
                            <input type="email" class="form-control" name="email" value="{{ request.session.email }}"
                                   required
                                   placeholder="{{ request.session.email }}">
                        </div>

                        <div class="form-group policy">
                            <!--<span class="left">同意并接受 <a target="_blank" href="/tos">《服务条款》</a></span>-->
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary btn-block btn-lg">确定</button>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div role="tabpanel" class="tab-pane" id="tab2">
                <form method="post" action="{% url 'bind' %}">
                    <fieldset>
                        {% csrf_token %}
                        <div class="form-group mt10">
                            <input type="hidden"  name="type" value="{{ request.session.type }}">

                            <label for="mail" class="required">Email</label>
                            {% if form.mail.errors %}
                            <span class="text-danger pull-right">{{ form.mail.errors }}</span>
                            {% endif %}
                            <input type="email" class="form-control" name="mail" value="" required
                                   placeholder="{{ request.session.mail }}">
                        </div>
                        <!--&lt;!&ndash;<div class="form-group">&ndash;&gt;-->
                        <!--&lt;!&ndash;<div class="checkbox">&ndash;&gt;-->
                        <!--&lt;!&ndash;<label>&ndash;&gt;-->
                        <!--&lt;!&ndash;<input name="havePassword" id="havePassword" type="checkbox">我知道密码&ndash;&gt;-->
                        <!--&lt;!&ndash;</label>&ndash;&gt;-->
                        <!--&lt;!&ndash;</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;<div class="form-group passwordInput hidden">&ndash;&gt;-->
                        <!--&lt;!&ndash;<label for="name">密码</label>&ndash;&gt;-->
                        <!--&lt;!&ndash;<input type="password" name="password"&ndash;&gt;-->
                        <!--&lt;!&ndash;maxlength="32" placeholder="字母、数字等"&ndash;&gt;-->
                        <!--&lt;!&ndash;class="form-control" value="" disabled="disabled"/>&ndash;&gt;-->
                        <!--</div>-->
                        <div class="form-group policy">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary btn-block btn-lg">确定</button>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>


</div>

{% endblock %}